{
  "resourceType": "StructureDefinition",
  "id": "FreseniusMedRequest",
  "meta": {
    "versionId": "24",
    "lastUpdated": "2021-03-23T09:46:33.692-04:00",
    "source": "#XB4ZSS8WP4UdaU8C"
  },
  "extension": [ {
    "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-category",
    "valueString": "Clinical.Medications"
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-security-category",
    "valueCode": "patient"
  } ],
  "url": "http://fkcfhir.org/fhir/StructureDefinition/FreseniusMedRequest",
  "version": "0.0.0-pre.14",
  "name": "FreseniusMedRequest",
  "status": "active",
  "description": "Fresenius profile for MedicationRequest",
  "fhirVersion": "4.0.1",
  "mapping": [ {
    "identity": "workflow",
    "uri": "http://hl7.org/fhir/workflow",
    "name": "Workflow Pattern"
  }, {
    "identity": "script10.6",
    "uri": "http://ncpdp.org/SCRIPT10_6",
    "name": "Mapping to NCPDP SCRIPT 10.6"
  }, {
    "identity": "rim",
    "uri": "http://hl7.org/v3",
    "name": "RIM Mapping"
  }, {
    "identity": "w5",
    "uri": "http://hl7.org/fhir/fivews",
    "name": "FiveWs Pattern Mapping"
  }, {
    "identity": "v2",
    "uri": "http://hl7.org/v2",
    "name": "HL7 v2 Mapping"
  } ],
  "kind": "resource",
  "abstract": false,
  "type": "MedicationRequest",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/MedicationRequest",
  "derivation": "constraint",
  "differential": {
    "element": [ {
      "id": "MedicationRequest",
      "path": "MedicationRequest",
      "constraint": [ {
        "key": "mdr-1",
        "severity": "error",
        "human": "MedRequest code must have ECC order abbreviation",
        "expression": "MedicationRequest.medicationCodeableConcept.coding.where(code.memberOf('http://fkcfhir.org/fhir/ValueSet/ecc-med-order-abbreviations'))",
        "source": "http://fkcfhir.org/fhir/StructureDefinition/FreseniusMedRequest"
      }, {
        "key": "mdr-2",
        "severity": "warning",
        "human": "MedRequest code should likey have rxNorm, it is missing in this case!!!",
        "expression": "MedicationRequest.medicationCodeableConcept.coding.where(code.memberOf('http://fkcfhir.org/fhir/ValueSet/fmc-med-RxNorm'))",
        "source": "http://fkcfhir.org/fhir/StructureDefinition/FreseniusMedRequest"
      }, {
        "key": "mdr-3",
        "severity": "error",
        "human": "MedRequest category should contain ECC orderType",
        "expression": "MedicationRequest.category.coding.where(code.memberOf('http://fkcfhir.org/fhir/ValueSet/FMCOrderTypeVS'))",
        "source": "http://fkcfhir.org/fhir/StructureDefinition/FreseniusMedRequest"
      }, {
        "key": "mdr-4",
        "severity": "error",
        "human": "MedRequest category should contain ECC orderSubType",
        "expression": "MedicationRequest.category.coding.where(code.memberOf('http://fkcfhir.org/fhir/ValueSet/FMCOrderSubTypeVS'))",
        "source": "http://fkcfhir.org/fhir/StructureDefinition/FreseniusMedRequest"
      }, {
        "key": "mdr-5",
        "severity": "warning",
        "human": "MedRequest category may contain hl7 defined medicationRequest Category Codes",
        "expression": "MedicationRequest.category.coding.where(code.memberOf('http://hl7.org/fhir/ValueSet/medicationrequest-category'))",
        "source": "http://fkcfhir.org/fhir/StructureDefinition/FreseniusMedRequest"
      }, {
        "key": "mdr-6",
        "severity": "warning",
        "human": "MedRequest category may contain the modality of the Patient",
        "expression": "MedicationRequest.category.coding.where(code.memberOf('http://fkcfhir.org/fhir/ValueSet/FMCModalityVS'))",
        "source": "http://fkcfhir.org/fhir/StructureDefinition/FreseniusMedRequest"
      }, {
        "key": "mdr-7",
        "severity": "error",
        "human": "MedRequest dosage route should contain ecc med route",
        "expression": "MedicationRequest.dosageInstruction.route.coding.where(code.memberOf('http://fkcfhir.org/fhir/ValueSet/FMCInctrMedRouteVS'))",
        "source": "http://fkcfhir.org/fhir/StructureDefinition/FreseniusMedRequest"
      }, {
        "key": "mdr-8",
        "severity": "warning",
        "human": "MedRequest dosage may contain snomed med route",
        "expression": "MedicationRequest.dosageInstruction.route.coding.where(code.memberOf('http://fkcfhir.org/fhir/ValueSet/FMCInctrMedRouteSnomedVS'))",
        "source": "http://fkcfhir.org/fhir/StructureDefinition/FreseniusMedRequest"
      }, {
        "key": "mdr-9",
        "severity": "warning",
        "human": "MedRequest dosage route may contain NCI med route",
        "expression": "MedicationRequest.dosageInstruction.route.coding.where(code.memberOf('http://fkcfhir.org/fhir/ValueSet/FMCNCIMedRouteVS'))",
        "source": "http://fkcfhir.org/fhir/StructureDefinition/FreseniusMedRequest"
      }, {
        "key": "mdose-5",
        "severity": "warning",
        "human": "day of week count should match frequency",
        "expression": "MedicationRequest.dosageInstruction.timing.repeat.where( \n               (frequency = dayOfWeek.count())      \n              )",
        "source": "http://fkcfhir.org/fhir/StructureDefinition/FreseniusMedRequest"
      } ]
    }, {
      "id": "MedicationRequest.extension",
      "path": "MedicationRequest.extension",
      "slicing": {
        "discriminator": [ {
          "type": "value",
          "path": "url"
        } ],
        "ordered": false,
        "rules": "open"
      },
      "min": 3
    }, {
      "id": "MedicationRequest.extension:medEpisodeOfCare",
      "path": "MedicationRequest.extension",
      "sliceName": "medEpisodeOfCare",
      "min": 1,
      "max": "1",
      "type": [ {
        "code": "Extension",
        "profile": [ "http://fkcfhir.org/fhir/StructureDefinition/medEpisodeOfCare" ]
      } ],
      "mustSupport": true
    }, {
      "id": "MedicationRequest.extension:orderSource",
      "path": "MedicationRequest.extension",
      "sliceName": "orderSource",
      "min": 1,
      "max": "1",
      "type": [ {
        "code": "Extension",
        "profile": [ "http://fkcfhir.org/fhir/StructureDefinition/orderSource" ]
      } ],
      "mustSupport": true
    }, {
      "id": "MedicationRequest.extension:physicianExtender",
      "path": "MedicationRequest.extension",
      "sliceName": "physicianExtender",
      "min": 0,
      "max": "1",
      "type": [ {
        "code": "Extension",
        "profile": [ "http://fkcfhir.org/fhir/StructureDefinition/physicianExtender" ]
      } ],
      "mustSupport": true
    }, {
      "id": "MedicationRequest.extension:supplyBy",
      "path": "MedicationRequest.extension",
      "sliceName": "supplyBy",
      "min": 1,
      "max": "1",
      "type": [ {
        "code": "Extension",
        "profile": [ "http://fkcfhir.org/fhir/StructureDefinition/supplyBy" ]
      } ],
      "mustSupport": true
    }, {
      "id": "MedicationRequest.extension:eCCOrderStatus",
      "path": "MedicationRequest.extension",
      "sliceName": "eCCOrderStatus",
      "min": 0,
      "max": "1",
      "type": [ {
        "code": "Extension",
        "profile": [ "http://fkcfhir.org/fhir/StructureDefinition/eCCOrderStatus" ]
      } ]
    }, {
      "id": "MedicationRequest.extension:eccStatusDate",
      "path": "MedicationRequest.extension",
      "sliceName": "eccStatusDate",
      "min": 0,
      "max": "1",
      "type": [ {
        "code": "Extension",
        "profile": [ "http://fkcfhir.org/fhir/StructureDefinition/eccStatusDate" ]
      } ]
    }, {
      "id": "MedicationRequest.category",
      "path": "MedicationRequest.category",
      "min": 1,
      "max": "4",
      "mustSupport": true
    }, {
      "id": "MedicationRequest.medication[x]",
      "path": "MedicationRequest.medication[x]",
      "type": [ {
        "code": "CodeableConcept"
      } ],
      "mustSupport": true
    }, {
      "id": "MedicationRequest.subject",
      "path": "MedicationRequest.subject",
      "type": [ {
        "code": "Reference",
        "targetProfile": [ "http://hl7.org/fhir/StructureDefinition/Patient" ]
      } ],
      "mustSupport": true
    }, {
      "id": "MedicationRequest.authoredOn",
      "path": "MedicationRequest.authoredOn",
      "min": 1,
      "mustSupport": true
    }, {
      "id": "MedicationRequest.requester",
      "path": "MedicationRequest.requester",
      "min": 1,
      "type": [ {
        "code": "Reference",
        "targetProfile": [ "http://hl7.org/fhir/StructureDefinition/Practitioner" ]
      } ],
      "mustSupport": true
    }, {
      "id": "MedicationRequest.performer",
      "path": "MedicationRequest.performer",
      "min": 1,
      "type": [ {
        "code": "Reference",
        "targetProfile": [ "http://hl7.org/fhir/StructureDefinition/Organization" ]
      } ],
      "mustSupport": true
    }, {
      "id": "MedicationRequest.recorder",
      "path": "MedicationRequest.recorder",
      "min": 1,
      "type": [ {
        "code": "Reference",
        "targetProfile": [ "http://hl7.org/fhir/StructureDefinition/Practitioner" ]
      } ],
      "mustSupport": true
    }, {
      "id": "MedicationRequest.reasonCode",
      "path": "MedicationRequest.reasonCode",
      "min": 1,
      "mustSupport": true
    }, {
      "id": "MedicationRequest.reasonReference",
      "path": "MedicationRequest.reasonReference",
      "type": [ {
        "code": "Reference",
        "targetProfile": [ "http://hl7.org/fhir/StructureDefinition/Condition" ]
      } ]
    }, {
      "id": "MedicationRequest.dosageInstruction",
      "path": "MedicationRequest.dosageInstruction",
      "min": 1,
      "max": "1",
      "mustSupport": true
    }, {
      "id": "MedicationRequest.dosageInstruction.additionalInstruction",
      "path": "MedicationRequest.dosageInstruction.additionalInstruction",
      "min": 1,
      "max": "1",
      "mustSupport": true,
      "binding": {
        "strength": "required",
        "valueSet": "http://fkcfhir.org/fhir/ValueSet/FMCMedTimingVS"
      }
    }, {
      "id": "MedicationRequest.dosageInstruction.timing.code",
      "path": "MedicationRequest.dosageInstruction.timing.code",
      "min": 1,
      "mustSupport": true
    }, {
      "id": "MedicationRequest.dosageInstruction.route",
      "path": "MedicationRequest.dosageInstruction.route",
      "min": 1,
      "mustSupport": true
    } ]
  }
}