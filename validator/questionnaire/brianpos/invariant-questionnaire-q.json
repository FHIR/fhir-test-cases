{
  "resourceType": "Questionnaire",
  "url": "http://forms-lab.com/Questionnaire/ValidateInvariantQuestionnaire",
  "version": "0.1",
  "status": "active",
  "item": [
    {
      "extension": [
        {
          "extension": [
            {
              "url": "key",
              "valueId": "k1"
            },
            {
              "url": "requirements",
              "valueString": "Example item invariant"
            },
            {
              "url": "severity",
              "valueCode": "warning"
            },
            {
              "url": "expression",
              "valueString": "answer.count() = 3"
            },
            {
              "url": "human",
              "valueString": "Must have 3 answers"
            },
            {
              "url": "location",
              "valueString": "linkId='q1'"
            },
            {
              "url": "location",
              "valueString": "QuestionnaireResponse.author"
            }
          ],
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-constraint"
        },
        {
          "extension": [
            {
              "url": "key",
              "valueId": "k2"
            },
            {
              "url": "requirements",
              "valueString": "Example item invariant"
            },
            {
              "url": "severity",
              "valueCode": "warning"
            },
            {
              "url": "expression",
              "valueString": "answer.count() = %questionnaire.item.count()+1"
            },
            {
              "url": "human",
              "valueString": "Must have 2 answers"
            },
            {
              "url": "location",
              "valueString": "linkId='q1'"
            },
            {
              "url": "location",
              "valueString": "QuestionnaireResponse.author"
            }
          ],
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-constraint"
        }
      ],
      "linkId": "q1",
      "type": "string",
      "repeats": true
    }
  ]
}